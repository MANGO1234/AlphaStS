# format

import numpy as np
import matplotlib.pyplot as plt
import sys
import json

plt.style.use('seaborn-whitegrid')
fig, ax = plt.subplots(3)
# ax[0].set_yscale("log")
# ax[1].set_yscale("log")
# ax[2].set_yscale("log")

if len(sys.argv) > 1:
    with open(f'{sys.argv[1]}/training.json', 'r') as f:
        training_info = json.load(f)
    cur_iteration = int(training_info['iteration'])
    info = []
    for i in range(1, cur_iteration):
        info.append(training_info['iteration_info'][str(i)])
    print(f'x0 = np.linspace(0, {cur_iteration - 1}, {cur_iteration - 1})')
    print(f'y0 = [{", ".join([str(x["death_rate"]) for x in info])}]')
    print(f'ax[0].plot(x0, y0, label=\'???\')')
    print(f'y1 = [{", ".join([str(x["avg_dmg_no_death"]) for x in info])}]')
    print(f'ax[1].plot(x0, y1, label=\'???\')')
    print(f'x1 = [{", ".join([str(x["accumulated_time"]) for x in info])}]')
    print(f'ax[2].plot(x1, y0, label=\'???\')')
    exit(0)

# x0 = np.linspace(0, 30, 30)
# y0 = [100.0, 100.0, 43.7, 38.5, 36.7, 30.2, 25.1, 26.5, 20.7, 18.9, 15.4, 15.6, 13.3, 12.4, 10.0, 12.3, 11.2, 8.3, 9.08, 8.27, 6.83, 8.13, 7.51, 7.84, 7.64, 7.18, 7.48, 7.18, 8.24, 6.94]
# ax[0].plot(x0, y0, label='Laga #1')
# y1 = [73.0, 73.0, 46.94, 47.37, 47.44, 48.65, 47.12, 47.4, 46.27, 47.55, 46.37, 45.01, 44.43, 43.82, 43.0,
#       42.84, 43.23, 42.01, 42.46, 42.11, 41.83, 41.92, 41.24, 41.27, 41.49, 41.12, 40.5, 40.07, 40.8, 40.83]
# ax[1].plot(x0, y1, label='Laga #1')
# x1 = [14.71, 26.29, 38.52, 52.59, 69.29, 88.02, 107.63, 126.54, 146.64, 167.42, 187.9, 207.75, 226.63, 248.82, 269.01,
#       288.59, 308.95, 329.59, 349.71, 370.04, 391.46, 415.29, 437.95, 461.5, 485.02, 509.71, 533.79, 559.56, 584.39, 609.42]
# ax[2].plot(x1, y0, label='Laga #1')

# x0 = np.linspace(0, 30, 30)
# y0 = [90.8, 63.2, 39.3, 32.8, 28.4, 22.2, 17.5, 14.6, 15.3, 12.5, 11.8, 9.6, 9.7, 10.5, 8.3, 10.6, 7.6, 6.85, 8.0, 8.13, 7.91, 7.88, 7.98, 8.34, 8.24, 8.44, 9.28, 7.9, 7.44, 7.22]
# ax[0].plot(x0, y0, label='Laga #2')
# y1 = [52.6, 54.54, 49.7, 47.84, 48.39, 46.33, 46.35, 43.49, 43.46, 42.33, 42.07, 41.22, 41.6, 41.44, 41.45,
#       41.53, 40.97, 40.76, 40.2, 40.19, 40.44, 39.32, 39.81, 39.26, 38.58, 38.48, 39.0, 38.11, 37.99, 37.88]
# ax[1].plot(x0, y1, label='Laga #2')
# x1 = [13.89, 27.64, 40.39, 55.59, 72.24, 91.63, 109.44, 128.63, 149.17, 171.65, 191.34, 211.88, 232.12, 251.3, 271.87,
#       293.02, 314.26, 336.81, 357.98, 378.43, 402.25, 425.17, 448.55, 473.04, 498.05, 530.26, 555.71, 582.2, 607.28, 635.37]
# ax[2].plot(x1, y0, label='Laga #2')

# x0 = np.linspace(0, 30, 30)
# y0 = [100.0, 100.0, 59.4, 50.0, 37.4, 39.9, 27.4, 29.0, 28.1, 25.9, 20.4, 21.4, 19.6, 18.1, 20.2, 17.1, 17.2, 14.35, 13.64, 13.13, 12.6, 12.4, 11.69, 9.92, 10.3, 9.52, 9.6, 8.4, 8.42, 7.82]
# ax[0].plot(x0, y0, label='Laga #3')
# y1 = [73.0, 73.0, 53.33, 51.43, 48.85, 50.18, 47.61, 47.53, 46.61, 47.12, 45.62, 47.24, 45.65, 46.46, 45.57,
#       45.66, 44.35, 43.74, 43.57, 43.48, 43.83, 42.23, 43.06, 42.29, 42.53, 41.7, 41.25, 41.39, 41.05, 40.68]
# ax[1].plot(x0, y1, label='Laga #3')
# x1 = [15.1, 28.1, 41.4, 56.44, 73.09, 94.03, 112.77, 134.31, 156.48, 178.25, 199.86, 221.43, 242.47, 263.3, 285.69,
#       307.46, 329.24, 350.79, 373.36, 395.92, 419.05, 445.54, 470.62, 497.02, 523.7, 549.93, 574.88, 599.31, 627.44, 653.79]
# ax[2].plot(x1, y0, label='Laga #3')

# x0 = np.linspace(0, 30, 30)
# y0 = [100.0, 100.0, 47.2, 46.2, 42.9, 38.3, 32.6, 22.7, 23.8, 18.5, 16.6, 16.8, 13.2, 14.0, 10.6, 11.0, 9.53, 8.65, 8.88, 10.0, 7.89, 9.32, 8.2, 7.9, 7.88, 8.04, 8.46, 7.92, 8.44, 7.92]
# ax[0].plot(x0, y0, label='Laga Line Traing')
# y1 = [73.0, 73.0, 50.64, 47.82, 48.06, 48.0, 47.84, 46.54, 48.22, 46.48, 45.17, 45.58, 44.19, 43.82, 43.14,
#       43.58, 43.22, 42.25, 41.64, 41.7, 40.07, 40.56, 40.87, 40.83, 40.82, 39.7, 40.03, 40.65, 39.55, 40.37]
# ax[1].plot(x0, y1, label='Laga Line Traing')
# x1 = [18.95, 36.17, 54.53, 74.29, 96.25, 119.32, 143.85, 168.24, 193.41, 218.6, 244.07, 267.69, 292.22, 317.51, 342.43,
#       366.7, 390.96, 419.74, 446.82, 474.89, 503.27, 532.66, 563.02, 593.52, 624.41, 654.41, 684.43, 714.5, 745.53, 776.13]
# ax[2].plot(x1, y0, label='Laga Line Traing')

# x0 = np.linspace(0, 30, 30)
# y0 = [100.0, 100.0, 68.4, 63.1, 60.8, 45.7, 44.5, 41.3, 39.8, 35.3, 29.2, 27.2, 21.2, 22.2, 17.2, 11.4, 11.13, 10.8, 11.48, 10.17, 9.34, 7.45, 7.33, 7.84, 7.54, 7.32, 7.22, 8.14, 8.24, 6.92]
# ax[0].plot(x0, y0, label='Laga Line Training #2')
# y1 = [73.0, 73.0, 53.3, 55.59, 56.65, 53.99, 52.87, 53.4, 51.43, 51.42, 49.9, 49.64, 46.06, 46.61, 43.07,
#       42.46, 42.43, 41.9, 41.51, 41.41, 40.23, 40.12, 40.4, 39.95, 39.79, 39.99, 39.2, 39.01, 39.34, 39.45]
# ax[1].plot(x0, y1, label='Laga Line Training #2')
# x1 = [24.49, 43.1, 61.28, 79.82, 100.59, 123.22, 145.98, 169.98, 194.87, 218.52, 242.89, 268.0, 293.24, 318.38, 342.05,
#       366.46, 390.55, 415.75, 441.2, 468.31, 495.32, 522.44, 552.32, 580.79, 608.89, 637.69, 669.81, 702.13, 731.77, 762.17]
# ax[2].plot(x1, y0, label='Laga Line Training #2')

# x0 = np.linspace(0, 30, 30)
# y0 = [100.0, 99.9, 60.1, 50.4, 39.5, 31.1, 30.0, 30.4, 21.3, 20.6, 15.7, 15.6, 17.0, 18.3, 15.4, 14.5, 13.73, 12.55, 11.12, 10.8, 9.46, 8.0, 7.53, 7.46, 7.8, 8.04, 7.6, 6.8, 8.06, 7.18]
# ax[0].plot(x0, y0, label='Laga Line Training #3')
# y1 = [73.0, 70.0, 53.84, 54.73, 50.57, 47.22, 47.17, 43.82, 42.29, 42.58, 41.76, 42.47, 42.17, 41.18, 41.04,
#       41.15, 41.2, 40.5, 40.26, 40.45, 39.93, 39.63, 40.56, 40.58, 39.54, 39.09, 39.3, 39.38, 39.7, 39.84]
# ax[1].plot(x0, y1, label='Laga Line Training #3')
# x1 = [19.62, 35.93, 52.71, 72.51, 92.91, 115.84, 138.66, 162.16, 186.87, 212.33, 237.22, 261.44, 285.3, 309.82, 334.31,
#       361.84, 387.72, 415.92, 443.42, 470.51, 501.83, 530.72, 558.67, 587.25, 618.62, 647.16, 676.44, 705.97, 736.18, 765.74]
# ax[2].plot(x1, y0, label='Laga Line Training #3')

# x0 = np.linspace(0, 30, 30)
# y0 = [100.0, 100.0, 65.5, 55.9, 50.7, 36.2, 22.9, 19.1, 15.0, 11.4, 12.9, 9.8, 8.8, 9.4, 7.7, 9.0, 9.53, 10.25, 10.24, 9.7, 9.6, 8.77, 8.8, 8.8, 7.56, 7.9, 10.3, 10.18, 10.58, 9.56]
# ax[0].plot(x0, y0, label='Laga Fast Line')
# y1 = [73.0, 73.0, 53.53, 49.45, 48.47, 47.76, 46.39, 44.99, 43.96, 42.83, 42.0, 41.49, 42.18, 41.64, 41.96,
#       41.72, 42.62, 41.82, 41.26, 41.65, 41.73, 41.9, 41.76, 41.67, 42.03, 41.88, 41.74, 42.07, 41.59, 40.82]
# ax[1].plot(x0, y1, label='Laga Fast Line')
# x1 = [13.79, 25.71, 37.68, 53.75, 74.5, 92.65, 109.83, 129.58, 152.66, 174.64, 197.3, 218.27, 236.25, 254.26, 274.35,
#       294.75, 316.83, 339.15, 360.4, 382.59, 404.25, 428.34, 458.68, 486.58, 514.4, 540.41, 572.63, 600.81, 630.12, 658.15]
# ax[2].plot(x1, y0, label='Laga Fast Line')

# x0 = np.linspace(0, 30, 30)
# y0 = [100.0, 100.0, 64.9, 55.6, 48.3, 25.2, 18.7, 12.2, 13.9, 10.1, 8.1, 9.9, 12.6, 10.5, 10.7, 11.5, 7.8, 10.1, 10.56, 7.8, 8.4, 10.23, 8.8, 9.68, 9.64, 8.6, 8.5, 7.26, 6.9, 7.88]
# ax[0].plot(x0, y0, label='Laga Fast Line #2')
# y1 = [73.0, 73.0, 54.87, 54.52, 53.68, 48.74, 47.22, 46.21, 45.1, 44.87, 43.4, 41.97, 42.0, 42.35, 42.63,
#       41.54, 42.9, 42.18, 41.58, 41.53, 40.91, 40.14, 39.38, 39.96, 39.76, 40.55, 41.4, 40.82, 41.42, 41.19]
# ax[1].plot(x0, y1, label='Laga Fast Line #2')
# x1 = [14.58, 27.86, 39.64, 56.34, 74.65, 92.26, 112.52, 134.52, 156.45, 181.18, 203.56, 228.67, 251.47, 274.03, 296.17,
#       321.32, 344.85, 367.56, 391.38, 416.31, 442.89, 465.9, 490.17, 516.67, 542.71, 569.17, 594.61, 623.46, 650.21, 676.56]
# ax[2].plot(x1, y0, label='Laga Fast Line #2')

# x0 = np.linspace(0, 30, 30)
# y0 = [99.8, 95.0, 57.3, 43.8, 32.6, 26.6, 21.9, 18.8, 18.5, 14.0, 12.4, 7.7, 9.9, 8.9, 9.2, 8.8, 8.47, 8.65, 9.24, 9.3, 9.94, 9.93, 8.71, 8.68, 8.94, 7.88, 8.62, 7.9, 8.12, 8.24]
# ax[0].plot(x0, y0, label='Laga Fast Line #3')
# y1 = [40.5, 63.12, 54.91, 48.27, 45.15, 45.77, 45.9, 46.28, 46.6, 45.17, 43.04, 42.33, 41.76, 42.28, 42.05,
#       42.1, 40.87, 39.66, 40.12, 39.93, 39.61, 39.33, 39.08, 40.87, 40.26, 39.61, 41.24, 41.46, 40.87, 40.35]
# ax[1].plot(x0, y1, label='Laga Fast Line #3')
# x1 = [15.58, 28.44, 40.55, 54.43, 75.71, 94.03, 114.34, 134.3, 155.21, 176.15, 197.4, 219.98, 241.44, 262.29, 284.79,
#       309.19, 331.91, 354.96, 380.01, 405.51, 431.86, 464.06, 489.94, 517.1, 545.57, 574.19, 600.64, 628.65, 654.3, 682.36]
# ax[2].plot(x1, y0, label='Laga Fast Line #3')

# x0 = np.linspace(0, 30, 30)
# y0 = [100.0, 100.0, 57.6, 43.5, 40.4, 42.5, 35.8, 32.5, 32.4, 25.4, 23.9, 24.3, 24.5, 19.7, 19.8, 20.6, 15.33, 18.4, 17.28, 14.53, 13.4, 12.65, 12.56, 11.48, 9.5, 8.8, 8.36, 7.86, 7.62, 7.16]
# ax[0].plot(x0, y0, label='???')
# y1 = [73.0, 73.0, 47.78, 48.45, 48.41, 48.88, 47.62, 47.25, 46.48, 45.76, 45.57, 46.9, 45.27, 45.05, 44.55,
#       45.02, 44.55, 44.36, 44.27, 43.85, 44.18, 42.64, 42.66, 42.46, 41.75, 41.32, 41.24, 40.98, 40.99, 40.94]
# ax[1].plot(x0, y1, label='???')
# x1 = [14.47, 29.89, 45.49, 64.47, 83.34, 104.47, 126.29, 147.71, 169.78, 193.24, 214.64, 236.95, 258.51, 281.02, 303.13,
#       324.16, 345.86, 368.28, 391.44, 415.63, 440.39, 465.13, 491.1, 518.81, 544.8, 569.99, 597.69, 624.24, 649.27, 675.18]
# ax[2].plot(x1, y0, label='???')

# x0 = np.linspace(0, 30, 30)
# y0 = [100.0, 38.4, 24.7, 27.2, 22.9, 23.2, 22.0, 23.9, 18.6, 22.4, 20.0, 19.6, 17.7, 18.3, 17.5, 13.1, 11.93, 12.55, 9.0, 9.03, 8.09, 9.13, 8.64, 8.6, 8.72, 8.38, 7.9, 7.96, 8.28, 7.94]
# ax[0].plot(x0, y0, label='??? #2')
# y1 = [73.0, 48.26, 47.03, 45.89, 45.92, 44.9, 44.93, 43.75, 43.11, 45.1, 44.41, 43.84, 43.53, 43.21, 43.5,
#       42.28, 42.7, 42.27, 41.69, 40.79, 41.39, 40.33, 39.91, 40.87, 39.0, 39.63, 39.16, 39.27, 38.76, 38.48]
# ax[1].plot(x0, y1, label='??? #2')
# x1 = [14.16, 27.07, 38.84, 52.24, 68.62, 85.42, 103.6, 124.67, 145.02, 165.51, 186.44, 207.69, 228.83, 249.04, 270.35,
#       291.19, 311.13, 331.98, 353.53, 376.7, 399.68, 422.96, 447.53, 471.86, 496.65, 521.31, 549.64, 574.78, 600.91, 625.58]
# ax[2].plot(x1, y0, label='??? #2')

# x0 = np.linspace(0, 30, 30)
# y0 = [98.4, 37.6, 16.5, 18.5, 17.0, 17.1, 14.1, 17.0, 16.4, 13.6, 10.3, 10.5, 10.9, 9.5, 9.0, 7.1, 9.67, 6.9, 7.64, 8.0, 7.66, 7.25, 7.78, 7.12, 7.66, 8.3, 6.94, 7.26, 7.38, 7.1]
# ax[0].plot(x0, y0, label='??? #3')
# y1 = [57.88, 48.48, 46.68, 44.8, 43.2, 43.14, 42.23, 42.9, 41.3, 40.88, 41.06, 39.73, 41.25, 40.27, 40.7,
#       40.5, 41.3, 40.06, 40.2, 39.93, 40.34, 40.04, 40.63, 40.61, 40.14, 39.63, 39.65, 40.32, 39.79, 40.63]
# ax[1].plot(x0, y1, label='??? #3')
# x1 = [15.19, 30.19, 43.74, 59.54, 77.28, 96.98, 116.57, 138.4, 162.31, 184.18, 206.31, 228.17, 249.52, 270.74, 292.67,
#       313.49, 335.26, 357.75, 379.65, 403.4, 426.83, 451.46, 475.77, 499.78, 525.71, 550.72, 575.79, 601.22, 625.64, 652.64]
# ax[2].plot(x1, y0, label='??? #3')

x0 = np.linspace(0, 21, 21)
y0 = [99.7, 60.4, 33.3, 22.7, 28.0, 24.4, 29.4, 18.3, 19.9, 17.3, 15.1, 11.9, 11.5, 10.8, 9.0, 10.9, 9.33, 9.35, 9.32, 10.07, 8.84]
ax[0].plot(x0, y0, label='NO_VR')
y1 = [36.0, 34.6, 33.17, 33.46, 33.02, 33.13, 33.41, 32.5, 32.11, 31.36, 31.44, 31.62, 30.74, 30.84, 30.63, 30.47, 30.16, 30.04, 29.98, 30.22, 30.08]
ax[1].plot(x0, y1, label='NO_VR')
x1 = [17.89, 34.19, 51.46, 73.65, 97.07, 122.53, 152.04, 177.14, 201.3, 226.84, 254.85, 280.64, 309.07, 335.97, 363.14, 390.19, 416.89, 444.35, 472.0, 502.21, 534.18]
ax[2].plot(x1, y0, label='NO_VR')

x0 = np.linspace(0, 20, 20)
y0 = [100.0, 91.8, 32.0, 18.8, 18.9, 20.9, 21.3, 18.2, 12.1, 16.0, 13.8, 12.0, 9.3, 10.0, 10.3, 10.0, 11.4, 10.45, 7.96, 9.36]
ax[0].plot(x0, y0, label='TMP+GREED')
y1 = [41.0, 36.04, 33.38, 31.99, 32.46, 32.5, 32.2, 31.82, 31.57, 30.96, 30.78, 31.1, 31.16, 30.28, 30.41, 30.46, 30.53, 30.38, 30.02, 29.77]
ax[1].plot(x0, y1, label='TMP+GREED')
x1 = [15.84, 31.77, 48.06, 68.62, 92.24, 116.63, 145.71, 169.89, 194.32, 219.41, 244.21, 269.39, 296.11, 322.22, 348.84, 377.11, 402.5, 429.8, 461.74, 491.04]
ax[2].plot(x1, y0, label='TMP+GREED')

x0 = np.linspace(0, 20, 20)
y0 = [83.3, 61.4, 39.8, 50.6, 42.0, 40.9, 37.0, 19.7, 19.7, 15.7, 11.2, 10.8, 11.2, 9.7, 7.9, 11.8, 9.2, 8.5, 10.36, 8.48]
ax[0].plot(x0, y0, label='TMP')
y1 = [35.9, 34.08, 32.33, 33.38, 32.62, 32.32, 31.77, 31.43, 31.12, 30.43, 30.77, 30.37, 30.29, 30.5, 30.21, 29.92, 29.91, 30.05, 30.12, 29.85]
ax[1].plot(x0, y1, label='TMP')
x1 = [18.86, 37.04, 55.09, 75.12, 98.06, 128.13, 157.18, 182.88, 211.75, 237.28, 263.79, 289.81, 324.63, 352.83, 379.85, 411.1, 436.51, 463.21, 490.66, 518.47]
ax[2].plot(x1, y0, label='TMP')

x0 = np.linspace(0, 20, 20)
y0 = [100.0, 81.1, 27.1, 19.4, 17.7, 15.5, 17.8, 15.9, 13.1, 11.8, 10.0, 13.2, 10.4, 9.8, 9.9, 11.4, 9.73, 8.8, 8.28, 7.86]
ax[0].plot(x0, y0, label='VR')
y1 = [41.0, 34.51, 31.92, 31.69, 31.81, 31.52, 31.94, 31.37, 31.97, 31.31, 31.12, 31.25, 30.73, 30.73, 30.29, 30.34, 30.08, 30.06, 29.99, 29.79]
ax[1].plot(x0, y1, label='VR')
x1 = [13.17, 27.67, 44.0, 63.64, 88.15, 112.28, 139.68, 161.49, 186.95, 212.15, 236.56, 260.56, 284.87, 309.2, 333.18, 357.65, 381.28, 406.38, 431.71, 457.87]
ax[2].plot(x1, y0, label='VR')

ax[0].legend()
ax[1].legend()
ax[2].legend()

plt.show()
